# @configure_input@

FC = @FC@
FCFLAGS = @FCFLAGS@
LDFLAGS = @LDFLAGS@
LIBS = @LIBS@

PROGS = flexwin

flexwin_LIBS = -lsacio -lsac -ltau
flexwin_OBJS = \
	distaz.o \
	io_subs.o \
	maxima.o \
	measure_windows_xcorr.o \
	measurement_module.o \
	seismo_subs.o \
	select_windows_stalta2.o \
	travel_times.o \
	user_functions.o \
	user_parameters.o \
	xcorr-measure.o \
	$(empty)


all: $(PROGS)

.SUFFIXES:
.SUFFIXES: .f .F .f90 .o

.F.o:
	$(FC) $(FCFLAGS) -c -o $@ $<

.f.o:
	$(FC) $(FCFLAGS) -c -o $@ $<

.f90.o:
	$(FC) $(FCFLAGS) -c -o $@ $<


flexwin: flexwin.f90 $(flexwin_OBJS)
	$(FC) $(FCFLAGS) flexwin.f90 -o flexwin $(flexwin_OBJS) $(LDFLAGS) $(flexwin_LIBS) $(LIBS)

clean:
	rm -f $(PROGS) *.o *.mod


measure_windows_xcorr.o: measurement_module.o

seismo_subs.o: user_parameters.o

measure_windows_xcorr.o: xcorr-measure.o

io_subs.o measurement_module.o measure_windows_xcorr.o select_windows_stalta2.o user_functions.o: seismo_subs.o
